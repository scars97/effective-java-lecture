# 15. 클래스와 멤버의 접근 권한을 최소화하라.

---

## (1) 구현과 API를 분리하는 '정보 은닉'의 장점
- 시스템 개발 속도를 높인다.
  - 여러 컴포넌트를 병렬로 개발할 수 있기 때문
  - Component: 여러 개의 프로그램 함수를 모아 하나의 특정한 기능을 수행할 수 있도록 구성한 작은 기능적 단위.
- 시스템 관리 비용을 낮춘다.
  - 컴포넌트를 더 빨리 파악할 수 있기 때문
- 성능 최적화에 도움을 준다.
  - 프로파일링을 통해 최적화할 컴포넌트를 찾고 다른 컴포넌트에 영향을 주지 않고 해당 컴포넌트만 개선할 수 있기 때문
- 소프트웨어 재사용성을 높인다.
  - 독자적인 컴포넌트라면 그 컴포넌트와 함께 개발되지 않은 낯선 환경에서도 유용하게 쓰일 가능성이 크기 때문
- 시스템 개발 난이도를 낮춘다.
  - 전체를 만들기 전에 개별 컴포넌트를 검증할 수 있기 때문

## (2) 클래스와 인터페이스의 접근 제한자 사용 원칙

- 모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다.
- 톱레벨 클래스와 인터페이스에 package-private 또는 public을 쓸 수 있다.
  - public으로 선언하면 API가 되므로 하위 호환성을 유지하려면 영원히 관리해야 한다.
    - 한번 공유된 클래스는 쉽게 바꾸지 못함. -> 바꾸면 클라이언트들이 코드를 다 바꿔야 함
  - 패키지 외부에서 쓰지 않을 클래스나 인터페이스라면 package-private으로 선언한다.
    - 보통 내부구현체를 package-private으로 선언

### 한 클래스에서만 사용하는 package-private 클래스나 인터페이스는 <br> 해당 클래스에 private static으로 중첩 시키자
- 정적 내부 클래스(Static Inner Class)
  - private static 내부 클래스
    - private static으로 선언된 내부 클래스는 외부 클래스의 내부에서만 접근할 수 있다.
    - 외부 클래스의 다른 메서드나 멤버에서는 이 내부 클래스에 직접 접근할 수 없다.
    - 외부에서의 접근을 완전히 제한하고 캡슐화를 강화
  - static 내부 클래스
    - static 키워드만 사용하여 내부 클래스를 선언한 경우,
    - 해당 내부 클래스는 외부 클래스의 메서드나 멤버에서 직접 접근할 수 있다.
    - 외부 클래스의 다른 메서드에서 내부 클래스를 인스턴스화하거나 그 멤버에 접근할 수 있으므로,
    - 내부 클래스를 더 공개하고 다른 클래스에서 활용할 수 있게 된다.
  
## (3) 멤버(필드, 메서드, 중첩클래스/인터페이스)의 접근 제한자 원칙
- private과 package-private은 내부 구현.
- public 클래스의 protected와 public은 공개 API.
- 코드를 테스트 하는 목적으로 private을 package-private으로 풀어주는 것은 허용할 수 있다. 하지만 테스트만을 위해서 멤버를 공개 API로 만들어선 안된다.
- public 클래스의 인스턴스 필드는 되도록 public이 아니어야 한다.
- 클래스에서 public static final 배열 필드를 두거나 이 필드를 반환하는 접근자 메서드를 제공해서는 안 된다.