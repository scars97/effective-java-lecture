# 26. 로 타입은 사용하지 말라.

---

## (1) 제네릭?
- 클래스와 인터페이스 선언에 타입 매개변수가 쓰이면, 이를 제네릭 클래스, 제네릭 인터페이스라 한다. -> 제네릭 타입
- 제네릭 타입은 일련의 매개변수화 타입을 정의한다.
- 먼저 클래스 이름이 나오고, <> 안에 실제 타입 매변수들을 나열한다.
  - `List<String>`은 원소의 타입이 `String인 리스트`를 뜻하는 매개변수들을 나열한다.
```java
List<String> listOfString = new ArrayList<>();
Map<String, ClassName> mapOfStringClassName = new HashMap<>();
```

**장점**
- 제네릭을 사용하면 잘못된 타입이 들어올 수 있는 것을 `컴파일 단계에서 방지`할 수 있다.
- 클래스 외부에서 타입을 지정해주기 때문에 따로 타입을 체크하고 변환해줄 필요가 없다.
- 비슷한 기능을 지원하는 경우 코드의 재사용성이 높아진다.

### (1-1) 로 타입 (raw type)
- 로 타입은 제네릭 타입에서 타입 매개변수를 전혀 사용하지 않을 때를 말함.
- 로타입을 쓰면 <u>제네릭이 안겨주는 안선성과 표현력을 모두 잃게 된다.</u>

```java
// 로 타입 예제
// 런타임 실패
public class Raw {
    public static void main(String[] args) {
        List<String> strings = new ArrayList<>();
        unsafeAdd(strings, Integer.valueOf(42));
        String s = strings.get(0); // 형변환하려 할 때 ClassCastException을 던진다.
    }

    // 로 타입 사용
    private static void unsafeAdd(List list, Object o) {
        list.add(o);
    }
}
```


**로타입을 왜 만들었을까?**
- 제네릭이 등장하기 전, 코드와 호환되도록 하기 위한 지책.
- 제네릭이 사용되면서 기존 코드와 새로운 코드가 맞물려 돌아가게 해야만 했음.
- 마이그레이션 호환성을 위해 로 타입을 지원하고 제네릭 구현에는 소거 방식을 사용.